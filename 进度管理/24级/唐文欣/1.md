#   自瞄菜鸟学习
## 25  9月4日
1.工创垃圾分类强队代码，理解到代码的全能强队的区别，细节化代码，方便调试

2.理解到要有自己的学习路线，能系统化说出自己到底学习了什么，抛开AI自己能做到什么

3.RM论坛算法开源，自瞄，青工会有经验分享

4.在树莓派上面运载yolo11n模型   (指令篇)
Sudo apt update&&sudo apt upgrade -y 
- 激活当前环境
Mkdir yolo &&cd yolo  
- 创建并激活虚拟环境
Python3 -m venv - -system-site-packages venv  
- 创建虚拟环境
Source venv/bin/activate 
- 激活虚拟环境
- 建立虚拟环境的目的是避免python环境发生冲突，还有一层目的是如果自己的虚拟环境发生错误时对外界环境也不会产生影响，可以直接删除重新建立
关了窗口重新激活
Cd yolo  source venv/bin/activate
Pip install ultralytics ncnn
- 安装运行yolo所需要的ultralytics和·ncnn库
- 装上摄像头 
Ls /dev/video* 
- 查看当前连接的video设备，看到video0或者video1即可
Yolo detect predict model=yolo11n.pt  
- 下载运行coco的预训练模型)
Yolo export model=yolo11n.pt  format=ncnn(将模型默认的pytorch格式改为更容易在树莓派上面运行的ncnn格式
wegt https://ejtech.io/code/yolo_detect.py##下载别人的视觉检测代码
python yolo_detect.py –model=yolo11n_ncnn_model –source=usb0 --resolution=1280x720
- 运行检测代码，这个代码只是能看到模型识别的效果，实际运行逻辑代码还是要自己去写
## 9月7日
1.	colcon build 的命令根本目的是给ros2指令构造空间，当遇到报错时可以尝试删掉已经构建的build文件，重新构建 rm -rf ~/my-1/build(移除指令)
2.	赋权限指令  sudo chmod 666 /dev/tty*
3.	蓝灯亮只是电源线正确连接，蓝灯一闪一闪才代表相机正确启动
4.	在小电脑上面启动MVS图像化界面，方法一:点击左下角显示应用程序，然后再找到MVS图标    方法二：cd /opt/MVS/bin    ./MVS.sh
5.	一定要记得看报错信息，这样才能更好的排查问题，自己强大才是真的强大
## 9月8日
1.相机标定代码的运行要进行终端的拆分colcon build
source install/setup.bash
ros2 launch hik_camera hik_camera.launch.py
- exposure_time
- gain

标定程序启动(拆分一个单独的终端)
colcon build
source install/setup.bash
ros2 run camera_calibration cameracalibrator --size 8x6 --square 0.024 image:=/image_raw  camera:=/hik_camera --no-service-check
2.自瞄代码在运行的时候插两个串口，这样才能正确识别到海康相机
## 9月9日
1.	有一个奇怪问题，把海康相机插到我自己电脑的虚拟机上面，再插上虚拟串口，用lsusb命令和ls /dev/tty* 命令别都能找到两个串口和ttyUSB0，但是在小电脑上面运行lsusb命令没有问题，但是用ls /dev/tty*命令只能在最开始能检测到ttyUSB0，后面再次执行命令就找不到了，对此的解释是因为在虚拟机上面可以找到就证明串口占据和防火墙问题可以排除，从根本分析虚拟机上面由系统直接控制设备，而小电脑上面需要经过原生内核，Udev，电源管理模块等，还有可能是串口的问题
## 9月10日
1，成功运行自瞄代码，把虚拟下位机改为true,就可以不用转串口了，但是曝光度有点问题，明天调一下，也有可能是装甲板亮度不均匀，明天试试
## 9月11日
1.	发现问题了，就是甲板亮度不均匀，今天检测成功，如果执行命令出现报错，可以尝试重新colcon build 
## 9月12日
1.	不同的文件会有不同的功能
2.	接下来任务就是看垃圾桶代码，还有看无人机自瞄代码的开源，努力尝试写一个自己的无人机代码，飞镖也需要学习

## 9月13日
1.学习怎么使用github上传代码
2.看中科大无人机自瞄开源        遇到问题：看不太懂，但是又无法实践
## 9月14---9月15
1.看视觉救命群里面的视觉文档发现一些可以利用的规则：
- 如果步兵采用变加速自转，就算对方的反小陀螺算法可以捕捉到装甲板，也无法稳定击打
- 如果直接用热成像对机器人继续检测，因为rm战车会有小电脑运算放热，和弹丸发射枪管发热，这样是不是比视觉雷达更快更简单，只用识别图像中发热的红色区域
- 对抗样本生成，用图片来扰乱，目标检测算法
## 9月·16-----9月20
1.看robomaster社区开源，自瞄，飞镖，无人机，很遗憾我没有找到飞镖的视觉开源代码
2.运行传承飞镖代码，我明白了问·ai也要有自己的思考，高效直接质问，或者可以提出一些自己的想法子，基本步骤 mkdir build          cd build
Cmake ..     ls命令查找makefile    然后再运行make命令   之后ls命令可以找到生成的可执行文件              （遇到问题找不到flact版本为24.3.25的下载源）

3．学习同济大学视觉开源，先啃代码，demo约等于ui界面，MPC

4.做垃圾桶识别代码

5.联盟赛英雄自瞄思路： 09-20 10:38:17
- 如果是在联盟赛的话，我现在有一个很好的想法，因为英雄的射速和那个步兵的射速是不一样的。
- 英雄的话我只用保证在他的中心开火，每个装甲板只要有一颗能够打中就行了，我不需要跟随我的就视频上我的云台是不需要怎么动的，还有它的弹丸足够大，你的射出去打造装备连板的时候如果能够捕捉到他那个模型，然后就能够逐步你和那个弹丸的预测函数进行拟合，这样它的精准度就能够高很多，或者那个弹丸里面有能够定位的东西，那的定位，它的精准度就会再高一个阶层。
- 所以我需要写一个英雄自瞄代码，它能够实现每个装甲板都能够打一颗，然后还能通过模型拟合去识别弹丸的位置去逐步减小误差。
## 9月21-----9月26 （本周主要对自瞄和环境搭载有了新的认识）
1.在第一天我在烧录系统之后进行正常插拔U盘，突然发现D盘不在了，在网上翻资料，问AI之后，win键加R打开磁盘管理发现D盘不在了，把磁盘中出现的所有文件点开后发现D盘名字改成了DATA3这时候只需要右键点击把名字改回来即可
2.这个星期新装了双系统（其实是在配了两天的同济大学自瞄代码后，依赖包下载特别慢，也会出现许多奇奇怪怪的报错，问AI只是从这个报错到了另外一个报错，配了两天的环境还没有配好，那天晚上都睡不着，经过一晚上的思考做了如下总结：
- 环境变量，文件管理权限，数字签名，守护进程，防火墙这些都是进行环境搭载所应该思考的
- 软件包依赖
- 原因：没有安装对应的依赖包    依赖包版本有问题     依赖包没有添加到对应工程的搜索路径中
- 配置问题
- 如git，要配置ssh还有软件密钥
- 软件对接问题
- 就是有好多其实不是一次传输，而是可能通过软件多次传输，但是软件和软件进行传输又要保证接口匹配传输连接监听，A传对A收，A传对B收就会报错
- 感悟
- 多应用包管理可以在一定程度上减轻配环境的难易程度
- 但是如果实在没有包管理路劲就老老实实配环境，在最开始拿到这个代码的时候，你其实也不太懂这个代码里面应用了什么，但是在配环境安装依赖链接路径的过程中，你能一点一点的了解底层的东西，不知道这个东西是什么就问ai总不能配了那么久环境什么也没有收获吧
- 既然无法避免就从中努力成长，配环境其实有点拨开迷雾见青山的感觉，但是迷雾有点厚哈哈
  
3.在装了双系统以及前一天晚上沉思双重buff加持下，2个小时就完成了全部环境的搭载，展示照片
## 9月30-10月5
1.完成中南大学自瞄代码的调试，因为陈学长之前调参数设置得特别好所以基本不怎么需要怎么调参数

2.配置细节：要接一个转换器，还有小电脑在没有天线的情况下，开热点必须把手机放到小电脑上面才能识别，要在遥控器上面开自瞄模式才能进行追击

3.自瞄效果：能对不移动的自转小陀螺有稳定的击打效果，射速：一秒两发左右 ，但是对移动靶子的追击还不够，会打到偏后一点
## 10月6-10月12
1.用同济代码测试（何成川），他发现y轴和z轴发生了颠倒，调了好久，手眼标定也没有问题，但是上车就会出现坐标系颠倒的情况，后来陶发现是电控处理有问题
## 10月13-10月19
1.何是将同济代码里面的那个测试脚本进行了集合

2.我找到了同济的集成代码，同济将传统视觉和深度学习视觉模型进行结合，进行模型嵌入，数据修正，解算算下一秒装甲板出现，与上一秒装甲板位置的非线性关系，也就是扩展卡尔曼滤波

3.现在奶龙坏了，靶车也没有做出来，视觉陷入了无车可调的地步

4.准备分类垃圾桶的比赛（在pt格式的模型文件转化为hef结尾的模型，居然还要用到docker镜像）的同时精进c＋＋语言的学习
## 10月20-11月4日
1.精进数学运算
2.由于飞镖代码没有readme.md,自己逐项理解代码过后为飞镖代码写了一个readme方便传承也方便自己经验的总结以及代码的修改，看开源的飞镖视觉的视频，理解到目前的飞镖的难点就是硬件和电控在精度达到一定高度后就很难再上一个层次，这是时候有些精度问题就可以通过视觉计算来减小，还有就是我再观看往期飞镖视频时，发现其实飞镖命中率还可以，但是为什么在赛场上命中率超级低呢，镖头姿态有问题，飞镖虽然能到规定位置但是镖头却不是正向的

